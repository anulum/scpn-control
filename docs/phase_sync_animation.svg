<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 480" font-family="'Segoe UI',system-ui,sans-serif">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0f172a"/>
      <stop offset="100%" stop-color="#1e293b"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="1.5" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <style>
      @keyframes r_trace {
        0%   { stroke-dashoffset: 600; }
        100% { stroke-dashoffset: 0; }
      }
      @keyframes v_trace {
        0%   { stroke-dashoffset: 600; }
        100% { stroke-dashoffset: 0; }
      }
      @keyframes lam_trace {
        0%   { stroke-dashoffset: 600; }
        100% { stroke-dashoffset: 0; }
      }
      @keyframes pulse_r {
        0%, 100% { opacity: 0.3; }
        50%      { opacity: 1.0; }
      }
      @keyframes sweep {
        0%   { x: 44; }
        100% { x: 440; }
      }
      @keyframes fade_in {
        0%   { opacity: 0; }
        100% { opacity: 1; }
      }
      @keyframes bar_grow {
        0%   { transform: scaleY(0); }
        100% { transform: scaleY(1); }
      }
      @keyframes tick_counter {
        0%   { opacity: 1; }
        50%  { opacity: 0.5; }
        100% { opacity: 1; }
      }
      .trace-r {
        stroke-dasharray: 600;
        animation: r_trace 6s ease-out forwards;
      }
      .trace-v {
        stroke-dasharray: 600;
        animation: v_trace 6s ease-out forwards;
      }
      .trace-lam {
        stroke-dasharray: 600;
        animation: lam_trace 6s ease-out forwards;
      }
      .scanline {
        animation: sweep 6s linear infinite;
      }
      .metric-pulse {
        animation: pulse_r 3s ease-in-out infinite;
      }
      .tick-blink {
        animation: tick_counter 1s steps(1) infinite;
      }
      .bar-anim {
        transform-origin: bottom;
        animation: bar_grow 2s ease-out forwards;
      }
    </style>
  </defs>

  <!-- Background -->
  <rect width="960" height="480" fill="url(#bg)"/>

  <!-- Title -->
  <rect x="0" y="0" width="960" height="36" fill="#0f172a" opacity="0.9"/>
  <text x="480" y="24" fill="#94a3b8" font-size="13" text-anchor="middle" font-weight="bold">
    SCPN Control — Phase Sync Convergence (16 layers × 50 oscillators, ζ=0.5)
  </text>

  <!-- Tick counter -->
  <rect x="850" y="6" width="100" height="24" rx="4" fill="#1e3a5f"/>
  <text x="900" y="23" fill="#22c55e" font-size="11" text-anchor="middle" font-family="monospace" class="tick-blink">tick 1000</text>

  <!-- ═══ Top-left: R_global ═══ -->
  <rect x="20" y="46" width="450" height="190" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="36" y="68" fill="#3b82f6" font-size="12" font-weight="bold">R_global — Coherence</text>

  <!-- Axes -->
  <line x1="44" y1="80" x2="44" y2="220" stroke="#475569" stroke-width="0.5"/>
  <line x1="44" y1="220" x2="456" y2="220" stroke="#475569" stroke-width="0.5"/>
  <text x="38" y="88" fill="#475569" font-size="8" text-anchor="end">1.0</text>
  <text x="38" y="150" fill="#475569" font-size="8" text-anchor="end">0.5</text>
  <text x="38" y="220" fill="#475569" font-size="8" text-anchor="end">0.0</text>

  <!-- R trace: starts ~0.2, converges to ~0.92 -->
  <polyline class="trace-r" filter="url(#glow)"
    points="44,206 64,202 84,196 104,188 124,178 144,168 164,158 184,148 204,140
            224,134 244,128 264,124 284,120 304,116 324,112 344,108 364,106
            384,104 404,100 424,98 440,96"
    stroke="#3b82f6" stroke-width="2.5" fill="none"/>

  <!-- Target line R=0.92 -->
  <line x1="44" y1="96" x2="456" y2="96" stroke="#22c55e" stroke-width="0.5" stroke-dasharray="4,4" opacity="0.6"/>
  <text x="456" y="92" fill="#22c55e" font-size="8" text-anchor="end">0.92</text>

  <!-- Scanline -->
  <rect class="scanline" y="80" width="2" height="140" fill="#3b82f6" opacity="0.3" rx="1"/>

  <!-- ═══ Top-right: V(t) Lyapunov ═══ -->
  <rect x="490" y="46" width="450" height="190" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="506" y="68" fill="#8b5cf6" font-size="12" font-weight="bold">V(t) — Lyapunov Candidate</text>

  <line x1="514" y1="80" x2="514" y2="220" stroke="#475569" stroke-width="0.5"/>
  <line x1="514" y1="220" x2="926" y2="220" stroke="#475569" stroke-width="0.5"/>
  <text x="508" y="88" fill="#475569" font-size="8" text-anchor="end">2.0</text>
  <text x="508" y="150" fill="#475569" font-size="8" text-anchor="end">1.0</text>
  <text x="508" y="220" fill="#475569" font-size="8" text-anchor="end">0.0</text>

  <!-- V trace: starts ~1.6, decays to ~0.08 -->
  <polyline class="trace-v" filter="url(#glow)"
    points="514,92 534,96 554,102 574,110 594,120 614,132 634,144 654,154 674,164
            694,172 714,180 734,186 754,190 774,194 794,198 814,202 834,206
            854,210 874,214 894,216 910,217"
    stroke="#8b5cf6" stroke-width="2.5" fill="none"/>

  <!-- Decay annotation -->
  <text x="910" y="214" fill="#8b5cf6" font-size="8" text-anchor="end">→ 0</text>
  <text x="600" y="100" fill="#475569" font-size="8" font-style="italic">dV/dt ≤ 0</text>

  <!-- ═══ Bottom-left: λ exponent ═══ -->
  <rect x="20" y="246" width="450" height="190" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="36" y="268" fill="#f59e0b" font-size="12" font-weight="bold">λ — Lyapunov Exponent</text>

  <line x1="44" y1="280" x2="44" y2="420" stroke="#475569" stroke-width="0.5"/>
  <line x1="44" y1="420" x2="456" y2="420" stroke="#475569" stroke-width="0.5"/>
  <!-- Zero line -->
  <line x1="44" y1="340" x2="456" y2="340" stroke="#ef4444" stroke-width="0.5" stroke-dasharray="4,4" opacity="0.5"/>
  <text x="38" y="288" fill="#475569" font-size="8" text-anchor="end">+1</text>
  <text x="38" y="344" fill="#ef4444" font-size="8" text-anchor="end">0</text>
  <text x="38" y="412" fill="#475569" font-size="8" text-anchor="end">-1</text>

  <!-- λ trace: starts noisy near 0, settles to ~ -0.47 -->
  <polyline class="trace-lam" filter="url(#glow)"
    points="44,336 64,342 84,330 104,350 124,338 144,356 164,348 184,362 204,368
            224,370 244,374 264,372 284,376 304,378 324,376 344,380 364,378
            384,380 404,378 424,380 440,380"
    stroke="#f59e0b" stroke-width="2.5" fill="none"/>

  <text x="444" y="376" fill="#22c55e" font-size="9" text-anchor="end">λ = −0.47 ✓</text>

  <!-- Stability region shading -->
  <rect x="44" y="340" width="412" height="80" fill="#22c55e" opacity="0.03"/>
  <text x="250" y="416" fill="#22c55e" font-size="8" text-anchor="middle" opacity="0.4">STABLE REGION (λ &lt; 0)</text>

  <!-- ═══ Bottom-right: Per-layer R heatmap ═══ -->
  <rect x="490" y="246" width="450" height="190" rx="6" fill="#1e293b" stroke="#334155" stroke-width="1"/>
  <text x="506" y="268" fill="#22c55e" font-size="12" font-weight="bold">Per-Layer Coherence R_m (converged)</text>

  <!-- 16 bars with animation -->
  <g transform="translate(520,280)">
    <!-- Heights proportional to R values (scaled to 140px max) -->
    <rect class="bar-anim" x="0"   y="14"  width="22" height="126" rx="2" fill="#1d4ed8" style="animation-delay:0.2s"/>
    <rect class="bar-anim" x="25"  y="7"   width="22" height="133" rx="2" fill="#2563eb" style="animation-delay:0.3s"/>
    <rect class="bar-anim" x="50"  y="18"  width="22" height="122" rx="2" fill="#3b82f6" style="animation-delay:0.4s"/>
    <rect class="bar-anim" x="75"  y="10"  width="22" height="130" rx="2" fill="#60a5fa" style="animation-delay:0.5s"/>
    <rect class="bar-anim" x="100" y="22"  width="22" height="118" rx="2" fill="#3b82f6" style="animation-delay:0.6s"/>
    <rect class="bar-anim" x="125" y="4"   width="22" height="136" rx="2" fill="#2563eb" style="animation-delay:0.7s"/>
    <rect class="bar-anim" x="150" y="16"  width="22" height="124" rx="2" fill="#60a5fa" style="animation-delay:0.8s"/>
    <rect class="bar-anim" x="175" y="24"  width="22" height="116" rx="2" fill="#93c5fd" style="animation-delay:0.9s"/>
    <rect class="bar-anim" x="200" y="8"   width="22" height="132" rx="2" fill="#93c5fd" style="animation-delay:1.0s"/>
    <rect class="bar-anim" x="225" y="12"  width="22" height="128" rx="2" fill="#60a5fa" style="animation-delay:1.1s"/>
    <rect class="bar-anim" x="250" y="20"  width="22" height="120" rx="2" fill="#3b82f6" style="animation-delay:1.2s"/>
    <rect class="bar-anim" x="275" y="6"   width="22" height="134" rx="2" fill="#2563eb" style="animation-delay:1.3s"/>
    <rect class="bar-anim" x="300" y="14"  width="22" height="126" rx="2" fill="#60a5fa" style="animation-delay:1.4s"/>
    <rect class="bar-anim" x="325" y="10"  width="22" height="130" rx="2" fill="#93c5fd" style="animation-delay:1.5s"/>
    <rect class="bar-anim" x="350" y="4"   width="22" height="136" rx="2" fill="#bfdbfe" style="animation-delay:1.6s"/>
    <rect class="bar-anim" x="375" y="18"  width="22" height="122" rx="2" fill="#1d4ed8" style="animation-delay:1.7s"/>

    <!-- Layer labels -->
    <text x="11"  y="152" fill="#475569" font-size="7" text-anchor="middle">1</text>
    <text x="86"  y="152" fill="#475569" font-size="7" text-anchor="middle">4</text>
    <text x="186" y="152" fill="#475569" font-size="7" text-anchor="middle">8</text>
    <text x="286" y="152" fill="#475569" font-size="7" text-anchor="middle">12</text>
    <text x="386" y="152" fill="#475569" font-size="7" text-anchor="middle">16</text>
  </g>

  <!-- Metrics bar at very bottom -->
  <rect x="20" y="446" width="920" height="26" rx="4" fill="#0f172a" opacity="0.8"/>
  <text x="40" y="463" fill="#3b82f6" font-size="11" class="metric-pulse">R=0.923</text>
  <text x="150" y="463" fill="#8b5cf6" font-size="11">V=0.041</text>
  <text x="260" y="463" fill="#f59e0b" font-size="11">λ=−0.47</text>
  <text x="370" y="463" fill="#22c55e" font-size="11" font-weight="bold">GUARD: PASS</text>
  <text x="520" y="463" fill="#94a3b8" font-size="11">38 µs/tick</text>
  <text x="640" y="463" fill="#94a3b8" font-size="11">16 layers × 50 osc</text>
  <text x="820" y="463" fill="#94a3b8" font-size="11">ζ=0.5  Ψ=0.0</text>
</svg>
